/*
Portal Navigation

Styles for elements specific to Portal navigation (independent of context such as a header).

This overwrites 3rd-party code:

- FontAwesome icons

Markup: s-portal-nav.html

Styleguide Trumps.Scopes.PortalNav
*/





/* Container */



/* Container: Desktop */

@media (--nav-expanded) {

  /* To have Portal Nav gently push—not abruptly shove—elements to make room */
  /* FAQ: Load Portal Nav with zero width, then transition to normal width */
  /* FAQ: Portal loads Portal Nav statically, so no need to ever hide it */
  .s-portal-nav[data-status] {
    flex-shrink: 0;

    transition: max-width 0.5s ease-out;
    max-width: 0;
  }
  .s-portal-nav:not([data-status]) /* To assume load for unsupported markup */,
  .s-portal-nav[data-status="loaded"] {
    /* To let width grow, use explicit value, and not constrain width */
    /* FAQ: No support for transition to `width: auto` nor `max-width: 100%` */
    /* SEE: https://css-tricks.com/using-css-transitions-auto-dimensions/ */
    /* FAQ: Value is normal width of logged in nav with 8-char (max) username */
    /* CAVEAT: Change of space or dimension of portal nav items affects value */
    /* FAQ: The `!important` overrides `:--for-cms` and `:--for-docs` */
    max-width: 212px !important;
  }
  /* To ensure content that is off screen does not cause scrollbar for <body> */
  /* FAQ: The specific conditional hide ensures dropdown menu is not hidden */
  .s-portal-nav .dropdown:not(.show) {
    overflow: hidden;
  }

}





/* Icons */

/* To swap Font Awesome icons for Cortal icons */
/* HACK: To apply icon styles without using a class in the markup */
/* NOTE: So I can deploy new header and not require edit of Portal nor Docs */
/* FP-526: Use Cortal Icons for header (then remove these styles) */
.s-portal-nav [class*="fa"] { @extend [class*=" icon-"]; }
.s-portal-nav [class*="fa"] { @extend .icon; }
.s-portal-nav .dropdown-toggle .fa-user-circle { @extend .icon-user; }
.s-portal-nav .fa-desktop      { @extend .icon-dashboard; }
.s-portal-nav .fa-tasks        { @extend .icon-approved-boxed; }
.s-portal-nav .fa-user-circle  { @extend .icon-user; }
.s-portal-nav .fa-sign-out-alt { @extend .icon-exit; }
.s-portal-nav .fa-sign-in-alt  { @extend .icon-user; }

/* To align log out icon closer to visual midpoint of other icons */
.s-portal-nav .icon-exit,
.s-portal-nav .fa-sign-out-alt {
  transform: translateX(2px);
}

/* HACK: To make Portal text "Log in" from old markup appear as "Log In" */
/* TODO: (1) Fix Portal nav text, (2) Delete this ruleset */
.s-portal-nav .nav-link:not(.dropdown-toggle) {
  text-transform: capitalize;
}
